{% extends 'task_app/base.html' %}

{% block body_block %}
<h1>The List Of Tasks</h1>
  
  {% comment %} <ol class="list-group list-group-numbered">
  {% for task in taskslist %}
    <li class="list-group-item bg-light rounded-3">
      <ul class="list-unstyled ms-3" >
        <li><strong>Title: {{ task.title }}</strong></li>
        <li ><strong>Description:</strong> {{ task.description }}</li>
        <form  method='POST' action="{% url 'task_app:edit_task' task.id %}" style="display: inline;">
          {% csrf_token %}
        <button class ="btn btn-primary btn-sm" style="display: inline;">Edit</button>
        <a href="{% url 'task_app:delete_task' task.id%}" class='btn btn-danger btn-sm'>Delete</a>
        
        </form>

        
        {% comment %} <form action= method="POST" style="display: inline;"
            onsubmit ="return confirm('Are you sure you want to delete this task?');">
          {% csrf_token %}
          <button  class="btn btn-danger btn-sm" style="display: inline;">Delete</button>
        </form>
          
        
      </ul>
    </li>
    
  {% endfor %} 
  </ol> {% endcomment %}

<div class='row g-3'>
{% for task in taskslist %}
<div class="col-md-4">
  <div class='card'>
    <div class="card-body">
      <strong>Title: {{ task.title }}</strong>
      <p><strong>Description:</strong> {{ task.description }}</p>
      
      {% if task.status == True %}
         <span class="badge bg-danger btn">Closed</span>
      {% else %}
         <span class="badge bg-success">Open</span>  
        
      {% endif %}
        
      <form  method='POST'  style="display: inline;">
        {% csrf_token %}
        <a href="{% url 'task_app:edit_task' task.id %}" class='btn btn-primary btn-sm'>Edit</a>
        {% comment %} <button class ="btn btn-primary btn-sm" style="display: inline;">Edit</button> {% endcomment %}
        <a href="{% url 'task_app:delete_task' task.id%}" class='btn btn-danger btn-sm'>Delete</a>
      </form>
    </div>
  </div>
</div>
{% endfor %}
</div>

{% endblock body_block %}